<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>FindMyPet — Creative Live Gallery</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css"/>
<style>
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#f0f8ff;}
header{text-align:center;padding:20px;background:linear-gradient(90deg,#ff6f61,#ffb347);color:white;}
header h1{margin:0;font-size:clamp(24px,5vw,36px);}
main{max-width:1300px;margin:auto;padding:16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;}
.card{background:white;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.12);display:flex;flex-direction:column;overflow:hidden;transition:transform 0.2s;}
.card:hover{transform:scale(1.03);}
.card img{width:100%;height:180px;object-fit:cover;}
.card-content{padding:12px;display:flex;flex-direction:column;gap:4px;}
.card-content h3{margin:0;color:#333;}
.card-content p{margin:0;color:#555;font-size:14px;}
.card-content span{font-weight:600;}
#map{width:100%;height:500px;border-radius:12px;margin:20px 0;}
footer{text-align:center;padding:12px;color:#555;font-size:13px;}
.btn-form{display:inline-block;margin-top:6px;padding:5px 10px;background:#ff6f61;color:white;border-radius:6px;text-decoration:none;font-size:13px;}
</style>
</head>
<body>
<header>
<h1>FindMyPet — Creative Live Gallery</h1>
<p>Realistic live dummy pets updating every 10 minutes</p>
</header>

<main id="cards"><p style="grid-column:1/-1;text-align:center;">Loading pets...</p></main>
<div id="map"></div>
<footer>&copy; FindMyPet</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
<script>
/******** CONFIGURATION ********/
const NUM_DUMMIES = 2000; // Number of pets shown
const UPDATE_INTERVAL = 10*60*1000; // 10 minutes
const PET_TYPES = ['Dog','Cat','Rabbit','Bird','Hamster','Parrot','Guinea Pig'];
const LOST_FOUND = ['Lost','Found'];
const PHOTO_POOL = [
  'https://place-puppy.com/400x180', 
  'https://placekitten.com/400/180', 
  'https://placebear.com/400/180', 
  'https://placebeard.it/400x180', 
  'https://loremflickr.com/400/180/dog', 
  'https://loremflickr.com/400/180/cat', 
  'https://loremflickr.com/400/180/animal'
];
const DESCRIPTION_TEMPLATES = [
  "Friendly and playful, loves attention!",
  "Shy but cuddly, enjoys quiet corners.",
  "Very energetic and loves to run around.",
  "Loves treats and gets excited easily.",
  "Has unique spots and a beautiful coat.",
  "Curious and adventurous, always exploring.",
  "Sweet and gentle, perfect for families.",
  "Very vocal and social, loves company.",
  "Bright eyes and soft fur, very affectionate."
];
/********************************/

// Initialize map
const map = L.map('map').setView([20,0],2);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; OpenStreetMap contributors'}).addTo(map);
let markers = L.markerClusterGroup();
map.addLayer(markers);

// Generate random coordinates
function randomCoord(){ return {lat:(Math.random()*140)-70,lng:(Math.random()*360)-180}; }

// Random name generator
function randomName(){
  const letters='ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  return letters.charAt(Math.floor(Math.random()*letters.length))+
         letters.charAt(Math.floor(Math.random()*letters.length))+
         Math.floor(Math.random()*9999);
}

// Random photo
function randomPhoto(){ return PHOTO_POOL[Math.floor(Math.random()*PHOTO_POOL.length)]; }

// Random description
function randomDescription(){ return DESCRIPTION_TEMPLATES[Math.floor(Math.random()*DESCRIPTION_TEMPLATES.length)]; }

// Generate dummy pets
function generateDummyPets(num){
  let pets=[];
  for(let i=0;i<num;i++){
    const coord=randomCoord();
    pets.push({
      name: randomName(),
      type: PET_TYPES[Math.floor(Math.random()*PET_TYPES.length)],
      status: LOST_FOUND[Math.floor(Math.random()*LOST_FOUND.length)],
      photo: randomPhoto(),
      latitude: coord.lat,
      longitude: coord.lng,
      accuracy: Math.floor(Math.random()*50)+5,
      description: randomDescription(),
      contact: "+0000000000"
    });
  }
  return pets;
}

// Render cards and map
function renderGallery(pets){
  const container=document.getElementById('cards');
  container.innerHTML='';
  markers.clearLayers();
  pets.forEach(p=>{
    // Card
    const card=document.createElement('div');
    card.className='card';
    const formLink = "#"; // placeholder
    card.innerHTML=`
      <img src="${p.photo}" alt="Pet Photo">
      <div class="card-content">
        <h3>${p.name} (${p.status})</h3>
        <p><span>Type:</span> ${p.type}</p>
        <p>${p.description}</p>
        <p><span>Location:</span> ${p.latitude.toFixed(2)}, ${p.longitude.toFixed(2)} (±${p.accuracy}m)</p>
        <p><span>Contact:</span> ${p.contact}</p>
        <a class="btn-form" href="${formLink}" target="_blank">Report Sighting / Update</a>
      </div>`;
    container.appendChild(card);

    // Map marker
    const marker=L.marker([p.latitude,p.longitude]);
    marker.bindPopup(`<strong>${p.name} (${p.status})</strong><br>Type: ${p.type}<br>${p.description}<br>Contact: ${p.contact}`);
    markers.addLayer(marker);
  });
}

// Initial load
let pets = generateDummyPets(NUM_DUMMIES);
renderGallery(pets);

// Update every 10 minutes
setInterval(()=>{
  pets = generateDummyPets(NUM_DUMMIES);
  renderGallery(pets);
},UPDATE_INTERVAL);
</script>
</body>
</html>
